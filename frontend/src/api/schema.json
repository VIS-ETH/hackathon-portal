{
  "openapi": "3.0.3",
  "info": {
    "title": "api",
    "description": "",
    "license": { "name": "" },
    "version": "0.1.0"
  },
  "servers": [
    { "url": "http://localhost:8080", "description": "Dev server" },
    { "url": "https://hack.ethz.ch", "description": "Prod server" }
  ],
  "paths": {
    "/api/appointments": {
      "get": {
        "tags": ["crate::routers::appointments"],
        "operationId": "get_appointments",
        "parameters": [
          {
            "name": "event_id",
            "in": "query",
            "description": "Filter by event id",
            "required": true,
            "schema": { "type": "string", "format": "uuid" }
          }
        ],
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": { "$ref": "#/components/schemas/Appointment" }
                }
              }
            }
          },
          "500": {
            "description": "",
            "content": {
              "application/json": {
                "schema": { "$ref": "#/components/schemas/PublicError" }
              }
            }
          }
        }
      },
      "post": {
        "tags": ["crate::routers::appointments"],
        "operationId": "create_appointment",
        "requestBody": {
          "description": "",
          "content": {
            "application/json": {
              "schema": { "$ref": "#/components/schemas/AppointmentForCreate" }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": { "$ref": "#/components/schemas/Appointment" }
              }
            }
          },
          "500": {
            "description": "",
            "content": {
              "application/json": {
                "schema": { "$ref": "#/components/schemas/PublicError" }
              }
            }
          }
        }
      }
    },
    "/api/appointments/{appointment_id}": {
      "get": {
        "tags": ["crate::routers::appointments"],
        "operationId": "get_appointment",
        "parameters": [
          {
            "name": "appointment_id",
            "in": "path",
            "required": true,
            "schema": { "type": "string", "format": "uuid" }
          }
        ],
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": { "$ref": "#/components/schemas/Appointment" }
              }
            }
          },
          "500": {
            "description": "",
            "content": {
              "application/json": {
                "schema": { "$ref": "#/components/schemas/PublicError" }
              }
            }
          }
        }
      },
      "delete": {
        "tags": ["crate::routers::appointments"],
        "operationId": "delete_appointment",
        "parameters": [
          {
            "name": "appointment_id",
            "in": "path",
            "required": true,
            "schema": { "type": "string", "format": "uuid" }
          }
        ],
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": { "$ref": "#/components/schemas/Appointment" }
              }
            }
          },
          "500": {
            "description": "",
            "content": {
              "application/json": {
                "schema": { "$ref": "#/components/schemas/PublicError" }
              }
            }
          }
        }
      },
      "patch": {
        "tags": ["crate::routers::appointments"],
        "operationId": "update_appointment",
        "parameters": [
          {
            "name": "appointment_id",
            "in": "path",
            "required": true,
            "schema": { "type": "string", "format": "uuid" }
          }
        ],
        "requestBody": {
          "description": "",
          "content": {
            "application/json": {
              "schema": { "$ref": "#/components/schemas/AppointmentForUpdate" }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": { "$ref": "#/components/schemas/Appointment" }
              }
            }
          },
          "500": {
            "description": "",
            "content": {
              "application/json": {
                "schema": { "$ref": "#/components/schemas/PublicError" }
              }
            }
          }
        }
      }
    },
    "/api/events": {
      "get": {
        "tags": ["crate::routers::events"],
        "operationId": "get_events",
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": { "$ref": "#/components/schemas/Event" }
                }
              }
            }
          },
          "500": {
            "description": "",
            "content": {
              "application/json": {
                "schema": { "$ref": "#/components/schemas/PublicError" }
              }
            }
          }
        }
      }
    },
    "/api/events/roles": {
      "get": {
        "tags": ["crate::routers::events"],
        "operationId": "get_events_roles",
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "additionalProperties": {
                    "type": "array",
                    "items": { "$ref": "#/components/schemas/EventRole" },
                    "uniqueItems": true
                  }
                }
              }
            }
          },
          "500": {
            "description": "",
            "content": {
              "application/json": {
                "schema": { "$ref": "#/components/schemas/PublicError" }
              }
            }
          }
        }
      }
    },
    "/api/events/slug/{event_slug}": {
      "get": {
        "tags": ["crate::routers::events"],
        "operationId": "get_event_by_slug",
        "parameters": [
          {
            "name": "event_slug",
            "in": "path",
            "required": true,
            "schema": { "type": "string" }
          }
        ],
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": { "$ref": "#/components/schemas/Event" }
              }
            }
          },
          "500": {
            "description": "",
            "content": {
              "application/json": {
                "schema": { "$ref": "#/components/schemas/PublicError" }
              }
            }
          }
        }
      }
    },
    "/api/events/{event_id}": {
      "get": {
        "tags": ["crate::routers::events"],
        "operationId": "get_event",
        "parameters": [
          {
            "name": "event_id",
            "in": "path",
            "required": true,
            "schema": { "type": "string", "format": "uuid" }
          }
        ],
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": { "$ref": "#/components/schemas/Event" }
              }
            }
          },
          "500": {
            "description": "",
            "content": {
              "application/json": {
                "schema": { "$ref": "#/components/schemas/PublicError" }
              }
            }
          }
        }
      },
      "patch": {
        "tags": ["crate::routers::events"],
        "operationId": "update_event",
        "parameters": [
          {
            "name": "event_id",
            "in": "path",
            "required": true,
            "schema": { "type": "string", "format": "uuid" }
          }
        ],
        "requestBody": {
          "description": "",
          "content": {
            "application/json": {
              "schema": { "$ref": "#/components/schemas/EventForUpdate" }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": { "$ref": "#/components/schemas/Event" }
              }
            }
          },
          "500": {
            "description": "",
            "content": {
              "application/json": {
                "schema": { "$ref": "#/components/schemas/PublicError" }
              }
            }
          }
        }
      }
    },
    "/api/events/{event_id}/affiliates": {
      "get": {
        "tags": ["crate::routers::events"],
        "operationId": "get_event_affiliates",
        "parameters": [
          {
            "name": "role",
            "in": "query",
            "description": "Filter by event role",
            "required": false,
            "schema": {
              "allOf": [{ "$ref": "#/components/schemas/EventRole" }],
              "nullable": true
            }
          },
          {
            "name": "event_id",
            "in": "path",
            "required": true,
            "schema": { "type": "string", "format": "uuid" }
          }
        ],
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": { "$ref": "#/components/schemas/EventAffiliate" }
                }
              }
            }
          },
          "500": {
            "description": "",
            "content": {
              "application/json": {
                "schema": { "$ref": "#/components/schemas/PublicError" }
              }
            }
          }
        }
      }
    },
    "/api/events/{event_id}/invite": {
      "post": {
        "tags": ["crate::routers::events"],
        "operationId": "invite_users",
        "parameters": [
          {
            "name": "event_id",
            "in": "path",
            "required": true,
            "schema": { "type": "string", "format": "uuid" }
          }
        ],
        "requestBody": {
          "description": "",
          "content": {
            "application/json": {
              "schema": { "$ref": "#/components/schemas/InviteUsersDTO" }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": { "$ref": "#/components/schemas/ReducedUser" }
                }
              }
            }
          },
          "500": {
            "description": "",
            "content": {
              "application/json": {
                "schema": { "$ref": "#/components/schemas/PublicError" }
              }
            }
          }
        }
      }
    },
    "/api/events/{event_id}/projects/matching": {
      "get": {
        "tags": ["crate::routers::events"],
        "operationId": "get_projects_matching",
        "parameters": [
          {
            "name": "event_id",
            "in": "path",
            "required": true,
            "schema": { "type": "string", "format": "uuid" }
          }
        ],
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "additionalProperties": { "type": "string", "format": "uuid" }
                }
              }
            }
          },
          "500": {
            "description": "",
            "content": {
              "application/json": {
                "schema": { "$ref": "#/components/schemas/PublicError" }
              }
            }
          }
        }
      }
    },
    "/api/events/{event_id}/roles": {
      "get": {
        "tags": ["crate::routers::events"],
        "operationId": "get_event_roles",
        "parameters": [
          {
            "name": "event_id",
            "in": "path",
            "required": true,
            "schema": { "type": "string", "format": "uuid" }
          }
        ],
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": { "$ref": "#/components/schemas/EventRole" },
                  "uniqueItems": true
                }
              }
            }
          },
          "500": {
            "description": "",
            "content": {
              "application/json": {
                "schema": { "$ref": "#/components/schemas/PublicError" }
              }
            }
          }
        }
      },
      "put": {
        "tags": ["crate::routers::events"],
        "operationId": "put_event_roles",
        "parameters": [
          {
            "name": "event_id",
            "in": "path",
            "required": true,
            "schema": { "type": "string", "format": "uuid" }
          }
        ],
        "requestBody": {
          "description": "",
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "additionalProperties": {
                  "type": "array",
                  "items": { "$ref": "#/components/schemas/EventRole" },
                  "uniqueItems": true
                }
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": { "$ref": "#/components/schemas/AffectedRows" }
              }
            }
          },
          "500": {
            "description": "",
            "content": {
              "application/json": {
                "schema": { "$ref": "#/components/schemas/PublicError" }
              }
            }
          }
        }
      },
      "delete": {
        "tags": ["crate::routers::events"],
        "operationId": "delete_event_roles",
        "parameters": [
          {
            "name": "event_id",
            "in": "path",
            "required": true,
            "schema": { "type": "string", "format": "uuid" }
          }
        ],
        "requestBody": {
          "description": "",
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "additionalProperties": {
                  "type": "array",
                  "items": { "$ref": "#/components/schemas/EventRole" },
                  "uniqueItems": true
                }
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": { "$ref": "#/components/schemas/AffectedRows" }
              }
            }
          },
          "500": {
            "description": "",
            "content": {
              "application/json": {
                "schema": { "$ref": "#/components/schemas/PublicError" }
              }
            }
          }
        }
      }
    },
    "/api/events/{event_id}/sidequests/history": {
      "get": {
        "tags": ["crate::routers::events"],
        "operationId": "get_sidequests_history",
        "parameters": [
          {
            "name": "after",
            "in": "query",
            "description": "Filter by after date",
            "required": false,
            "schema": {
              "type": "string",
              "format": "date-time",
              "nullable": true
            }
          },
          {
            "name": "before",
            "in": "query",
            "description": "Filter by before date",
            "required": false,
            "schema": {
              "type": "string",
              "format": "date-time",
              "nullable": true
            }
          },
          {
            "name": "event_id",
            "in": "path",
            "required": true,
            "schema": { "type": "string", "format": "uuid" }
          }
        ],
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "additionalProperties": {
                    "type": "array",
                    "items": { "$ref": "#/components/schemas/HistoryEntry" }
                  }
                }
              }
            }
          },
          "500": {
            "description": "",
            "content": {
              "application/json": {
                "schema": { "$ref": "#/components/schemas/PublicError" }
              }
            }
          }
        }
      }
    },
    "/api/events/{event_id}/sidequests/leaderboard": {
      "get": {
        "tags": ["crate::routers::events"],
        "operationId": "get_sidequests_overview_leaderboard",
        "parameters": [
          {
            "name": "event_id",
            "in": "path",
            "required": true,
            "schema": { "type": "string", "format": "uuid" }
          }
        ],
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/TeamLeaderboardEntry"
                  }
                }
              }
            }
          },
          "500": {
            "description": "",
            "content": {
              "application/json": {
                "schema": { "$ref": "#/components/schemas/PublicError" }
              }
            }
          }
        }
      }
    },
    "/api/events/{event_id}/sidequests/team-leaderboard": {
      "get": {
        "tags": ["crate::routers::events"],
        "operationId": "get_sidequests_team_leaderboard",
        "parameters": [
          {
            "name": "sidequest_id",
            "in": "query",
            "description": "Filter by sidequest id",
            "required": true,
            "schema": { "type": "string", "format": "uuid" }
          },
          {
            "name": "event_id",
            "in": "path",
            "required": true,
            "schema": { "type": "string", "format": "uuid" }
          }
        ],
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/TeamLeaderboardEntry"
                  }
                }
              }
            }
          },
          "500": {
            "description": "",
            "content": {
              "application/json": {
                "schema": { "$ref": "#/components/schemas/PublicError" }
              }
            }
          }
        }
      }
    },
    "/api/events/{event_id}/sidequests/user-leaderboard": {
      "get": {
        "tags": ["crate::routers::events"],
        "operationId": "get_sidequests_user_leaderboard",
        "parameters": [
          {
            "name": "sidequest_id",
            "in": "query",
            "description": "Filter by sidequest id",
            "required": true,
            "schema": { "type": "string", "format": "uuid" }
          },
          {
            "name": "event_id",
            "in": "path",
            "required": true,
            "schema": { "type": "string", "format": "uuid" }
          }
        ],
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/UserLeaderboardEntry"
                  }
                }
              }
            }
          },
          "500": {
            "description": "",
            "content": {
              "application/json": {
                "schema": { "$ref": "#/components/schemas/PublicError" }
              }
            }
          }
        }
      }
    },
    "/api/events/{event_id}/teams/index": {
      "post": {
        "tags": ["crate::routers::events"],
        "operationId": "index_teams",
        "parameters": [
          {
            "name": "event_id",
            "in": "path",
            "required": true,
            "schema": { "type": "string", "format": "uuid" }
          }
        ],
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": { "$ref": "#/components/schemas/Team" }
                }
              }
            }
          },
          "500": {
            "description": "",
            "content": {
              "application/json": {
                "schema": { "$ref": "#/components/schemas/PublicError" }
              }
            }
          }
        }
      }
    },
    "/api/projects": {
      "get": {
        "tags": ["crate::routers::projects"],
        "operationId": "get_projects",
        "parameters": [
          {
            "name": "event_id",
            "in": "query",
            "description": "Filter by event id",
            "required": true,
            "schema": { "type": "string", "format": "uuid" }
          }
        ],
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": { "$ref": "#/components/schemas/Project" }
                }
              }
            }
          },
          "500": {
            "description": "",
            "content": {
              "application/json": {
                "schema": { "$ref": "#/components/schemas/PublicError" }
              }
            }
          }
        }
      },
      "post": {
        "tags": ["crate::routers::projects"],
        "operationId": "create_project",
        "requestBody": {
          "description": "",
          "content": {
            "application/json": {
              "schema": { "$ref": "#/components/schemas/ProjectForCreate" }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": { "$ref": "#/components/schemas/Project" }
              }
            }
          },
          "500": {
            "description": "",
            "content": {
              "application/json": {
                "schema": { "$ref": "#/components/schemas/PublicError" }
              }
            }
          }
        }
      }
    },
    "/api/projects/slug/{event_slug}/{project_slug}": {
      "get": {
        "tags": ["crate::routers::projects"],
        "operationId": "get_project_by_slug",
        "parameters": [
          {
            "name": "event_slug",
            "in": "path",
            "required": true,
            "schema": { "type": "string" }
          },
          {
            "name": "project_slug",
            "in": "path",
            "required": true,
            "schema": { "type": "string" }
          }
        ],
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": { "$ref": "#/components/schemas/Project" }
              }
            }
          },
          "500": {
            "description": "",
            "content": {
              "application/json": {
                "schema": { "$ref": "#/components/schemas/PublicError" }
              }
            }
          }
        }
      }
    },
    "/api/projects/{project_id}": {
      "get": {
        "tags": ["crate::routers::projects"],
        "operationId": "get_project",
        "parameters": [
          {
            "name": "project_id",
            "in": "path",
            "required": true,
            "schema": { "type": "string", "format": "uuid" }
          }
        ],
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": { "$ref": "#/components/schemas/Project" }
              }
            }
          },
          "500": {
            "description": "",
            "content": {
              "application/json": {
                "schema": { "$ref": "#/components/schemas/PublicError" }
              }
            }
          }
        }
      },
      "delete": {
        "tags": ["crate::routers::projects"],
        "operationId": "delete_project",
        "parameters": [
          {
            "name": "project_id",
            "in": "path",
            "required": true,
            "schema": { "type": "string", "format": "uuid" }
          }
        ],
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": { "$ref": "#/components/schemas/Project" }
              }
            }
          },
          "500": {
            "description": "",
            "content": {
              "application/json": {
                "schema": { "$ref": "#/components/schemas/PublicError" }
              }
            }
          }
        }
      },
      "patch": {
        "tags": ["crate::routers::projects"],
        "operationId": "update_project",
        "parameters": [
          {
            "name": "project_id",
            "in": "path",
            "required": true,
            "schema": { "type": "string", "format": "uuid" }
          }
        ],
        "requestBody": {
          "description": "",
          "content": {
            "application/json": {
              "schema": { "$ref": "#/components/schemas/ProjectForUpdate" }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": { "$ref": "#/components/schemas/Appointment" }
              }
            }
          },
          "500": {
            "description": "",
            "content": {
              "application/json": {
                "schema": { "$ref": "#/components/schemas/PublicError" }
              }
            }
          }
        }
      }
    },
    "/api/sidequest-attempts": {
      "get": {
        "tags": ["crate::routers::sidequest_attempts"],
        "operationId": "get_sidequest_attempts",
        "parameters": [
          {
            "name": "event_id",
            "in": "query",
            "description": "Filter by event ID",
            "required": true,
            "schema": { "type": "string", "format": "uuid" }
          },
          {
            "name": "sidequest_id",
            "in": "query",
            "description": "Filter by sidequest ID",
            "required": false,
            "schema": { "type": "string", "format": "uuid", "nullable": true }
          },
          {
            "name": "team_id",
            "in": "query",
            "description": "Filter by team ID",
            "required": false,
            "schema": { "type": "string", "format": "uuid", "nullable": true }
          },
          {
            "name": "user_id",
            "in": "query",
            "description": "Filter by user ID",
            "required": false,
            "schema": { "type": "string", "format": "uuid", "nullable": true }
          },
          {
            "name": "after",
            "in": "query",
            "description": "Filter by attempts after this time",
            "required": false,
            "schema": {
              "type": "string",
              "format": "date-time",
              "nullable": true
            }
          },
          {
            "name": "before",
            "in": "query",
            "description": "Filter by attempts before this time",
            "required": false,
            "schema": {
              "type": "string",
              "format": "date-time",
              "nullable": true
            }
          }
        ],
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": { "$ref": "#/components/schemas/Attempt" }
                }
              }
            }
          },
          "500": {
            "description": "",
            "content": {
              "application/json": {
                "schema": { "$ref": "#/components/schemas/PublicError" }
              }
            }
          }
        }
      },
      "post": {
        "tags": ["crate::routers::sidequest_attempts"],
        "operationId": "create_sidequest_attempt",
        "requestBody": {
          "description": "",
          "content": {
            "application/json": {
              "schema": { "$ref": "#/components/schemas/AttemptForCreate" }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": { "$ref": "#/components/schemas/Attempt" }
              }
            }
          },
          "500": {
            "description": "",
            "content": {
              "application/json": {
                "schema": { "$ref": "#/components/schemas/PublicError" }
              }
            }
          }
        }
      }
    },
    "/api/sidequest-attempts/cooldown": {
      "get": {
        "tags": ["crate::routers::sidequest_attempts"],
        "operationId": "get_sidequest_attempt_cooldown",
        "parameters": [
          {
            "name": "event_id",
            "in": "query",
            "description": "Filter by event ID",
            "required": true,
            "schema": { "type": "string", "format": "uuid" }
          },
          {
            "name": "user_id",
            "in": "query",
            "description": "Filter by user ID. Leave empty to use the current user.",
            "required": false,
            "schema": { "type": "string", "format": "uuid", "nullable": true }
          }
        ],
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": { "$ref": "#/components/schemas/Cooldown" }
              }
            }
          },
          "500": {
            "description": "",
            "content": {
              "application/json": {
                "schema": { "$ref": "#/components/schemas/PublicError" }
              }
            }
          }
        }
      }
    },
    "/api/sidequest-attempts/{sidequest_attempt_id}": {
      "get": {
        "tags": ["crate::routers::sidequest_attempts"],
        "operationId": "get_sidequest_attempt",
        "parameters": [
          {
            "name": "sidequest_attempt_id",
            "in": "path",
            "required": true,
            "schema": { "type": "string", "format": "uuid" }
          }
        ],
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": { "$ref": "#/components/schemas/Attempt" }
              }
            }
          },
          "500": {
            "description": "",
            "content": {
              "application/json": {
                "schema": { "$ref": "#/components/schemas/PublicError" }
              }
            }
          }
        }
      },
      "delete": {
        "tags": ["crate::routers::sidequest_attempts"],
        "operationId": "delete_sidequest_attempt",
        "parameters": [
          {
            "name": "sidequest_attempt_id",
            "in": "path",
            "required": true,
            "schema": { "type": "string", "format": "uuid" }
          }
        ],
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": { "default": null, "nullable": true }
              }
            }
          },
          "500": {
            "description": "",
            "content": {
              "application/json": {
                "schema": { "$ref": "#/components/schemas/PublicError" }
              }
            }
          }
        }
      },
      "patch": {
        "tags": ["crate::routers::sidequest_attempts"],
        "operationId": "update_sidequest_attempt",
        "parameters": [
          {
            "name": "sidequest_attempt_id",
            "in": "path",
            "required": true,
            "schema": { "type": "string", "format": "uuid" }
          }
        ],
        "requestBody": {
          "description": "",
          "content": {
            "application/json": {
              "schema": { "$ref": "#/components/schemas/AttemptForUpdate" }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": { "$ref": "#/components/schemas/Attempt" }
              }
            }
          },
          "500": {
            "description": "",
            "content": {
              "application/json": {
                "schema": { "$ref": "#/components/schemas/PublicError" }
              }
            }
          }
        }
      }
    },
    "/api/sidequests": {
      "get": {
        "tags": ["crate::routers::sidequests"],
        "operationId": "get_sidequests",
        "parameters": [
          {
            "name": "event_id",
            "in": "query",
            "description": "Filter by event ID",
            "required": true,
            "schema": { "type": "string", "format": "uuid" }
          }
        ],
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": { "$ref": "#/components/schemas/Sidequest" }
                }
              }
            }
          },
          "500": {
            "description": "",
            "content": {
              "application/json": {
                "schema": { "$ref": "#/components/schemas/PublicError" }
              }
            }
          }
        }
      },
      "post": {
        "tags": ["crate::routers::sidequests"],
        "operationId": "create_sidequest",
        "requestBody": {
          "description": "",
          "content": {
            "application/json": {
              "schema": { "$ref": "#/components/schemas/SidequestForCreate" }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": { "$ref": "#/components/schemas/SidequestForCreate" }
              }
            }
          },
          "500": {
            "description": "",
            "content": {
              "application/json": {
                "schema": { "$ref": "#/components/schemas/PublicError" }
              }
            }
          }
        }
      }
    },
    "/api/sidequests/slug/{event_slug}/{sidequest_slug}": {
      "get": {
        "tags": ["crate::routers::sidequests"],
        "operationId": "get_sidequest_by_slug",
        "parameters": [
          {
            "name": "event_slug",
            "in": "path",
            "required": true,
            "schema": { "type": "string" }
          },
          {
            "name": "sidequest_slug",
            "in": "path",
            "required": true,
            "schema": { "type": "string" }
          }
        ],
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": { "$ref": "#/components/schemas/Sidequest" }
              }
            }
          },
          "500": {
            "description": "",
            "content": {
              "application/json": {
                "schema": { "$ref": "#/components/schemas/PublicError" }
              }
            }
          }
        }
      }
    },
    "/api/sidequests/{sidequest_id}": {
      "get": {
        "tags": ["crate::routers::sidequests"],
        "operationId": "get_sidequest",
        "parameters": [
          {
            "name": "sidequest_id",
            "in": "path",
            "required": true,
            "schema": { "type": "string", "format": "uuid" }
          }
        ],
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": { "$ref": "#/components/schemas/Sidequest" }
              }
            }
          },
          "500": {
            "description": "",
            "content": {
              "application/json": {
                "schema": { "$ref": "#/components/schemas/PublicError" }
              }
            }
          }
        }
      },
      "delete": {
        "tags": ["crate::routers::sidequests"],
        "operationId": "delete_sidequest",
        "parameters": [
          {
            "name": "sidequest_id",
            "in": "path",
            "required": true,
            "schema": { "type": "string", "format": "uuid" }
          }
        ],
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": { "default": null, "nullable": true }
              }
            }
          },
          "500": {
            "description": "",
            "content": {
              "application/json": {
                "schema": { "$ref": "#/components/schemas/PublicError" }
              }
            }
          }
        }
      },
      "patch": {
        "tags": ["crate::routers::sidequests"],
        "operationId": "update_sidequest",
        "parameters": [
          {
            "name": "sidequest_id",
            "in": "path",
            "required": true,
            "schema": { "type": "string", "format": "uuid" }
          }
        ],
        "requestBody": {
          "description": "",
          "content": {
            "application/json": {
              "schema": { "$ref": "#/components/schemas/SidequestForUpdate" }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": { "$ref": "#/components/schemas/Sidequest" }
              }
            }
          },
          "500": {
            "description": "",
            "content": {
              "application/json": {
                "schema": { "$ref": "#/components/schemas/PublicError" }
              }
            }
          }
        }
      }
    },
    "/api/teams": {
      "get": {
        "tags": ["crate::routers::teams"],
        "operationId": "get_teams",
        "parameters": [
          {
            "name": "event_id",
            "in": "query",
            "description": "Filter by event id",
            "required": true,
            "schema": { "type": "string", "format": "uuid" }
          }
        ],
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": { "$ref": "#/components/schemas/Team" }
                }
              }
            }
          },
          "500": {
            "description": "",
            "content": {
              "application/json": {
                "schema": { "$ref": "#/components/schemas/PublicError" }
              }
            }
          }
        }
      },
      "post": {
        "tags": ["crate::routers::teams"],
        "operationId": "create_team",
        "requestBody": {
          "description": "",
          "content": {
            "application/json": {
              "schema": { "$ref": "#/components/schemas/TeamForCreate" }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": { "$ref": "#/components/schemas/Team" }
              }
            }
          },
          "500": {
            "description": "",
            "content": {
              "application/json": {
                "schema": { "$ref": "#/components/schemas/PublicError" }
              }
            }
          }
        }
      }
    },
    "/api/teams/roles": {
      "get": {
        "tags": ["crate::routers::teams"],
        "operationId": "get_teams_roles",
        "parameters": [
          {
            "name": "event_id",
            "in": "query",
            "description": "Filter by event id",
            "required": true,
            "schema": { "type": "string", "format": "uuid" }
          }
        ],
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "additionalProperties": {
                    "type": "array",
                    "items": { "$ref": "#/components/schemas/TeamRole" },
                    "uniqueItems": true
                  }
                }
              }
            }
          },
          "500": {
            "description": "",
            "content": {
              "application/json": {
                "schema": { "$ref": "#/components/schemas/PublicError" }
              }
            }
          }
        }
      }
    },
    "/api/teams/slug/{event_slug}/{team_slug}": {
      "get": {
        "tags": ["crate::routers::teams"],
        "operationId": "get_team_by_slug",
        "parameters": [
          {
            "name": "event_slug",
            "in": "path",
            "required": true,
            "schema": { "type": "string" }
          },
          {
            "name": "team_slug",
            "in": "path",
            "required": true,
            "schema": { "type": "string" }
          }
        ],
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": { "$ref": "#/components/schemas/Team" }
              }
            }
          },
          "500": {
            "description": "",
            "content": {
              "application/json": {
                "schema": { "$ref": "#/components/schemas/PublicError" }
              }
            }
          }
        }
      }
    },
    "/api/teams/{team_id}": {
      "get": {
        "tags": ["crate::routers::teams"],
        "operationId": "get_team",
        "parameters": [
          {
            "name": "team_id",
            "in": "path",
            "required": true,
            "schema": { "type": "string", "format": "uuid" }
          }
        ],
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": { "$ref": "#/components/schemas/Team" }
              }
            }
          },
          "500": {
            "description": "",
            "content": {
              "application/json": {
                "schema": { "$ref": "#/components/schemas/PublicError" }
              }
            }
          }
        }
      },
      "delete": {
        "tags": ["crate::routers::teams"],
        "operationId": "delete_team",
        "parameters": [
          {
            "name": "team_id",
            "in": "path",
            "required": true,
            "schema": { "type": "string", "format": "uuid" }
          }
        ],
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": { "$ref": "#/components/schemas/Team" }
              }
            }
          },
          "500": {
            "description": "",
            "content": {
              "application/json": {
                "schema": { "$ref": "#/components/schemas/PublicError" }
              }
            }
          }
        }
      },
      "patch": {
        "tags": ["crate::routers::teams"],
        "operationId": "update_team",
        "parameters": [
          {
            "name": "team_id",
            "in": "path",
            "required": true,
            "schema": { "type": "string", "format": "uuid" }
          }
        ],
        "requestBody": {
          "description": "",
          "content": {
            "application/json": {
              "schema": { "$ref": "#/components/schemas/TeamForUpdate" }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": { "$ref": "#/components/schemas/Appointment" }
              }
            }
          },
          "500": {
            "description": "",
            "content": {
              "application/json": {
                "schema": { "$ref": "#/components/schemas/PublicError" }
              }
            }
          }
        }
      }
    },
    "/api/teams/{team_id}/affiliates": {
      "get": {
        "tags": ["crate::routers::teams"],
        "operationId": "get_team_affiliates",
        "parameters": [
          {
            "name": "role",
            "in": "query",
            "description": "Filter by team role",
            "required": false,
            "schema": {
              "allOf": [{ "$ref": "#/components/schemas/TeamRole" }],
              "nullable": true
            }
          },
          {
            "name": "team_id",
            "in": "path",
            "required": true,
            "schema": { "type": "string", "format": "uuid" }
          }
        ],
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": { "$ref": "#/components/schemas/TeamAffiliate" }
                }
              }
            }
          },
          "500": {
            "description": "",
            "content": {
              "application/json": {
                "schema": { "$ref": "#/components/schemas/PublicError" }
              }
            }
          }
        }
      }
    },
    "/api/teams/{team_id}/password": {
      "get": {
        "tags": ["crate::routers::teams"],
        "operationId": "get_team_password",
        "parameters": [
          {
            "name": "team_id",
            "in": "path",
            "required": true,
            "schema": { "type": "string", "format": "uuid" }
          }
        ],
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": { "$ref": "#/components/schemas/PasswordDTO" }
              }
            }
          },
          "500": {
            "description": "",
            "content": {
              "application/json": {
                "schema": { "$ref": "#/components/schemas/PublicError" }
              }
            }
          }
        }
      },
      "patch": {
        "tags": ["crate::routers::teams"],
        "operationId": "update_team_password",
        "parameters": [
          {
            "name": "team_id",
            "in": "path",
            "required": true,
            "schema": { "type": "string", "format": "uuid" }
          }
        ],
        "requestBody": {
          "description": "",
          "content": {
            "application/json": {
              "schema": { "$ref": "#/components/schemas/PasswordDTO" }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": { "$ref": "#/components/schemas/Team" }
              }
            }
          },
          "500": {
            "description": "",
            "content": {
              "application/json": {
                "schema": { "$ref": "#/components/schemas/PublicError" }
              }
            }
          }
        }
      }
    },
    "/api/teams/{team_id}/project": {
      "patch": {
        "tags": ["crate::routers::teams"],
        "operationId": "update_team_project",
        "parameters": [
          {
            "name": "team_id",
            "in": "path",
            "required": true,
            "schema": { "type": "string", "format": "uuid" }
          }
        ],
        "requestBody": {
          "description": "",
          "content": {
            "application/json": {
              "schema": { "$ref": "#/components/schemas/ProjectIdDTO" }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": { "$ref": "#/components/schemas/Team" }
              }
            }
          },
          "500": {
            "description": "",
            "content": {
              "application/json": {
                "schema": { "$ref": "#/components/schemas/PublicError" }
              }
            }
          }
        }
      }
    },
    "/api/teams/{team_id}/project-preferences": {
      "get": {
        "tags": ["crate::routers::teams"],
        "operationId": "get_team_project_preferences",
        "parameters": [
          {
            "name": "team_id",
            "in": "path",
            "required": true,
            "schema": { "type": "string", "format": "uuid" }
          }
        ],
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": { "type": "string", "format": "uuid" }
                }
              }
            }
          },
          "500": {
            "description": "",
            "content": {
              "application/json": {
                "schema": { "$ref": "#/components/schemas/PublicError" }
              }
            }
          }
        }
      },
      "patch": {
        "tags": ["crate::routers::teams"],
        "operationId": "update_team_project_preferences",
        "parameters": [
          {
            "name": "team_id",
            "in": "path",
            "required": true,
            "schema": { "type": "string", "format": "uuid" }
          }
        ],
        "requestBody": {
          "description": "",
          "content": {
            "application/json": {
              "schema": {
                "type": "array",
                "items": { "type": "string", "format": "uuid" }
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": { "type": "string", "format": "uuid" }
                }
              }
            }
          },
          "500": {
            "description": "",
            "content": {
              "application/json": {
                "schema": { "$ref": "#/components/schemas/PublicError" }
              }
            }
          }
        }
      }
    },
    "/api/teams/{team_id}/roles": {
      "get": {
        "tags": ["crate::routers::teams"],
        "operationId": "get_team_roles",
        "parameters": [
          {
            "name": "team_id",
            "in": "path",
            "required": true,
            "schema": { "type": "string", "format": "uuid" }
          }
        ],
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": { "$ref": "#/components/schemas/TeamRole" },
                  "uniqueItems": true
                }
              }
            }
          },
          "500": {
            "description": "",
            "content": {
              "application/json": {
                "schema": { "$ref": "#/components/schemas/PublicError" }
              }
            }
          }
        }
      },
      "put": {
        "tags": ["crate::routers::teams"],
        "operationId": "put_team_roles",
        "parameters": [
          {
            "name": "team_id",
            "in": "path",
            "required": true,
            "schema": { "type": "string", "format": "uuid" }
          }
        ],
        "requestBody": {
          "description": "",
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "additionalProperties": {
                  "type": "array",
                  "items": { "$ref": "#/components/schemas/TeamRole" },
                  "uniqueItems": true
                }
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": { "$ref": "#/components/schemas/AffectedRows" }
              }
            }
          },
          "500": {
            "description": "",
            "content": {
              "application/json": {
                "schema": { "$ref": "#/components/schemas/PublicError" }
              }
            }
          }
        }
      },
      "delete": {
        "tags": ["crate::routers::teams"],
        "operationId": "delete_team_roles",
        "parameters": [
          {
            "name": "team_id",
            "in": "path",
            "required": true,
            "schema": { "type": "string", "format": "uuid" }
          }
        ],
        "requestBody": {
          "description": "",
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "additionalProperties": {
                  "type": "array",
                  "items": { "$ref": "#/components/schemas/TeamRole" },
                  "uniqueItems": true
                }
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": { "$ref": "#/components/schemas/AffectedRows" }
              }
            }
          },
          "500": {
            "description": "",
            "content": {
              "application/json": {
                "schema": { "$ref": "#/components/schemas/PublicError" }
              }
            }
          }
        }
      }
    },
    "/api/users/me": {
      "get": {
        "tags": ["crate::routers::users"],
        "operationId": "get_me",
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": { "$ref": "#/components/schemas/User" }
              }
            }
          },
          "500": {
            "description": "",
            "content": {
              "application/json": {
                "schema": { "$ref": "#/components/schemas/PublicError" }
              }
            }
          }
        }
      },
      "patch": {
        "tags": ["crate::routers::users"],
        "operationId": "update_me",
        "requestBody": {
          "description": "",
          "content": {
            "application/json": {
              "schema": { "$ref": "#/components/schemas/UserForUpdate" }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": { "$ref": "#/components/schemas/User" }
              }
            }
          },
          "500": {
            "description": "",
            "content": {
              "application/json": {
                "schema": { "$ref": "#/components/schemas/PublicError" }
              }
            }
          }
        }
      }
    },
    "/api/users/me/policies": {
      "get": {
        "tags": ["crate::routers::users"],
        "operationId": "get_my_policies",
        "parameters": [
          {
            "name": "event_id",
            "in": "query",
            "description": "Get policies for this event",
            "required": false,
            "schema": { "type": "string", "format": "uuid", "nullable": true }
          },
          {
            "name": "team_id",
            "in": "query",
            "description": "Get policies for this team",
            "required": false,
            "schema": { "type": "string", "format": "uuid", "nullable": true }
          }
        ],
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": { "$ref": "#/components/schemas/Policies" }
              }
            }
          },
          "500": {
            "description": "",
            "content": {
              "application/json": {
                "schema": { "$ref": "#/components/schemas/PublicError" }
              }
            }
          }
        }
      }
    }
  },
  "components": {
    "schemas": {
      "AffectedRows": {
        "type": "object",
        "required": ["affected_rows"],
        "properties": {
          "affected_rows": {
            "type": "integer",
            "format": "int64",
            "minimum": 0
          }
        }
      },
      "Appointment": {
        "type": "object",
        "required": ["id", "event_id", "title", "start"],
        "properties": {
          "content": { "type": "string", "nullable": true },
          "description": { "type": "string", "nullable": true },
          "end": { "type": "string", "format": "date-time", "nullable": true },
          "event_id": { "type": "string", "format": "uuid" },
          "id": { "type": "string", "format": "uuid" },
          "start": { "type": "string", "format": "date-time" },
          "title": { "type": "string" }
        }
      },
      "AppointmentForCreate": {
        "type": "object",
        "required": ["event_id", "title", "start"],
        "properties": {
          "content": { "type": "string", "nullable": true },
          "description": { "type": "string", "nullable": true },
          "end": { "type": "string", "format": "date-time", "nullable": true },
          "event_id": { "type": "string", "format": "uuid" },
          "start": { "type": "string", "format": "date-time" },
          "title": { "type": "string" }
        }
      },
      "AppointmentForUpdate": {
        "type": "object",
        "properties": {
          "content": { "type": "string", "nullable": true },
          "description": { "type": "string", "nullable": true },
          "end": { "type": "string", "format": "date-time", "nullable": true },
          "start": {
            "type": "string",
            "format": "date-time",
            "nullable": true
          },
          "title": { "type": "string", "nullable": true }
        }
      },
      "Attempt": {
        "type": "object",
        "required": ["id", "sidequest_id", "user_id", "result", "attempted_at"],
        "properties": {
          "attempted_at": { "type": "string", "format": "date-time" },
          "id": { "type": "string", "format": "uuid" },
          "result": { "type": "number", "format": "double" },
          "sidequest_id": { "type": "string", "format": "uuid" },
          "user_id": { "type": "string", "format": "uuid" }
        }
      },
      "AttemptForCreate": {
        "type": "object",
        "required": ["sidequest_id", "user_id", "result"],
        "properties": {
          "result": { "type": "number", "format": "double" },
          "sidequest_id": { "type": "string", "format": "uuid" },
          "user_id": { "type": "string", "format": "uuid" }
        }
      },
      "AttemptForUpdate": {
        "type": "object",
        "properties": {
          "result": { "type": "number", "format": "double", "nullable": true }
        }
      },
      "Cooldown": {
        "type": "object",
        "required": ["duration"],
        "properties": {
          "duration": { "type": "integer", "format": "int32", "minimum": 0 },
          "last_attempt": {
            "type": "string",
            "format": "date-time",
            "nullable": true
          },
          "next_attempt": {
            "type": "string",
            "format": "date-time",
            "nullable": true
          }
        }
      },
      "Event": {
        "type": "object",
        "required": [
          "id",
          "name",
          "slug",
          "start",
          "end",
          "max_team_size",
          "sidequest_cooldown",
          "is_read_only",
          "is_feedback_visible",
          "visibility",
          "phase"
        ],
        "properties": {
          "documentation_content": { "type": "string", "nullable": true },
          "end": { "type": "string", "format": "date-time" },
          "id": { "type": "string", "format": "uuid" },
          "is_feedback_visible": { "type": "boolean" },
          "is_read_only": { "type": "boolean" },
          "max_team_size": {
            "type": "integer",
            "format": "int32",
            "minimum": 0
          },
          "name": { "type": "string" },
          "phase": { "$ref": "#/components/schemas/EventPhase" },
          "sidequest_cooldown": {
            "type": "integer",
            "format": "int32",
            "minimum": 0
          },
          "slug": { "type": "string" },
          "start": { "type": "string", "format": "date-time" },
          "visibility": { "$ref": "#/components/schemas/EventVisibility" },
          "welcome_content": { "type": "string", "nullable": true }
        }
      },
      "EventAffiliate": {
        "type": "object",
        "required": ["id", "name", "roles"],
        "properties": {
          "id": { "type": "string", "format": "uuid" },
          "name": { "type": "string" },
          "roles": {
            "type": "array",
            "items": { "$ref": "#/components/schemas/EventRole" }
          }
        }
      },
      "EventForCreate": {
        "type": "object",
        "required": [
          "name",
          "start",
          "end",
          "max_team_size",
          "sidequest_cooldown"
        ],
        "properties": {
          "end": { "type": "string", "format": "date-time" },
          "max_team_size": {
            "type": "integer",
            "format": "int32",
            "minimum": 0
          },
          "name": { "type": "string" },
          "sidequest_cooldown": {
            "type": "integer",
            "format": "int32",
            "minimum": 0
          },
          "start": { "type": "string", "format": "date-time" }
        }
      },
      "EventForUpdate": {
        "type": "object",
        "properties": {
          "documentation_content": { "type": "string", "nullable": true },
          "end": { "type": "string", "format": "date-time", "nullable": true },
          "is_feedback_visible": { "type": "boolean", "nullable": true },
          "is_read_only": { "type": "boolean", "nullable": true },
          "max_team_size": {
            "type": "integer",
            "format": "int32",
            "nullable": true,
            "minimum": 0
          },
          "name": { "type": "string", "nullable": true },
          "phase": {
            "allOf": [{ "$ref": "#/components/schemas/EventPhase" }],
            "nullable": true
          },
          "sidequest_cooldown": {
            "type": "integer",
            "format": "int32",
            "nullable": true,
            "minimum": 0
          },
          "start": {
            "type": "string",
            "format": "date-time",
            "nullable": true
          },
          "visibility": {
            "allOf": [{ "$ref": "#/components/schemas/EventVisibility" }],
            "nullable": true
          },
          "welcome_content": { "type": "string", "nullable": true }
        }
      },
      "EventIdQuery": {
        "type": "object",
        "required": ["event_id"],
        "properties": { "event_id": { "type": "string", "format": "uuid" } }
      },
      "EventPhase": {
        "type": "string",
        "enum": ["Finished", "Grading", "Hacking", "Registration"]
      },
      "EventRole": {
        "type": "string",
        "enum": [
          "Admin",
          "Mentor",
          "Participant",
          "SidequestMaster",
          "Stakeholder"
        ]
      },
      "EventRoleOptQuery": {
        "type": "object",
        "properties": {
          "role": {
            "allOf": [{ "$ref": "#/components/schemas/EventRole" }],
            "nullable": true
          }
        }
      },
      "EventVisibility": {
        "type": "string",
        "enum": ["Hidden", "Internal", "Public"]
      },
      "Group": {
        "type": "string",
        "description": "A group is a power set of roles and has a partial order relation defined on it.\nThis allows for easy permissions testing, e.g. to ensure that a resource is only accessed\nby a user that either is an event admin, event mentor, event sidequest master, or event stakeholder,\nwe can simply write `user_groups >= Group::EventStaff`.\n\nHere is the corresponding Hasse diagram for the group:\n\n```graphviz\ngraph {\n  layout = dot\n  rankdir = TB\n  node [ shape=\"none\" ]\n\n    EventAdmin [label=\"EventAdmin\"]\n    EventMentor [label=\"EventMentor\"]\n    EventParticipant [label=\"EventParticipant\"]\n    EventSidequestMaster [label=\"EventSidequestMaster\"]\n    EventStakeholder [label=\"EventStakeholder\"]\n    TeamMember [label=\"TeamMember\"]\n    TeamMentor [label=\"TeamMentor\"]\n    EventStaff [label=\"EventStaff\"]\n    TeamAffiliate [label=\"TeamAffiliate\"]\n    EventAffiliate [label=\"EventAffiliate\"]\n    EventGuest [label=\"EventGuest\"]\n\n    { rank=same; EventSidequestMaster, EventStakeholder, EventMentor }\n\n    EventAdmin -- {TeamMember, TeamMentor, EventSidequestMaster, EventStakeholder}\n    {TeamMember, TeamMentor} -- TeamAffiliate\n    TeamMentor -- EventMentor\n    {EventMentor, EventStakeholder, EventSidequestMaster} -- EventStaff\n    TeamAffiliate -- EventAffiliate\n    {EventParticipant, EventStaff} -- EventAffiliate\n    TeamMember -- EventParticipant\n    EventAffiliate -- EventGuest\n}\n```\n*",
        "enum": [
          "EventAdmin",
          "EventMentor",
          "EventParticipant",
          "EventSidequestMaster",
          "EventStakeholder",
          "TeamMember",
          "TeamMentor",
          "EventStaff",
          "TeamAffiliate",
          "EventAffiliate",
          "EventGuest"
        ]
      },
      "Groups": {
        "type": "object",
        "required": ["groups"],
        "properties": {
          "groups": {
            "type": "array",
            "items": { "$ref": "#/components/schemas/Group" }
          }
        }
      },
      "HistoryEntry": {
        "type": "object",
        "required": ["date", "score"],
        "properties": {
          "date": { "type": "string", "format": "date-time" },
          "score": { "type": "number", "format": "double" }
        }
      },
      "InviteUsersDTO": {
        "type": "object",
        "required": ["users", "roles"],
        "properties": {
          "roles": {
            "type": "array",
            "items": { "$ref": "#/components/schemas/EventRole" },
            "uniqueItems": true
          },
          "users": {
            "type": "array",
            "items": { "$ref": "#/components/schemas/UserForCreate" }
          }
        }
      },
      "PasswordDTO": {
        "type": "object",
        "properties": { "password": { "type": "string", "nullable": true } }
      },
      "Policies": {
        "type": "object",
        "required": [
          "can_view_event",
          "can_view_event_internal",
          "can_manage_event",
          "can_create_team",
          "can_view_team_confidential",
          "can_manage_team",
          "can_manage_project",
          "can_manage_sidequest",
          "can_view_sidequest_attempt",
          "can_manage_sidequest_attempt"
        ],
        "properties": {
          "can_create_team": { "type": "boolean" },
          "can_manage_event": { "type": "boolean" },
          "can_manage_project": { "type": "boolean" },
          "can_manage_sidequest": { "type": "boolean" },
          "can_manage_sidequest_attempt": { "type": "boolean" },
          "can_manage_team": { "type": "boolean" },
          "can_view_event": { "type": "boolean" },
          "can_view_event_internal": { "type": "boolean" },
          "can_view_sidequest_attempt": { "type": "boolean" },
          "can_view_team_confidential": { "type": "boolean" }
        }
      },
      "PoliciesQuery": {
        "type": "object",
        "properties": {
          "event_id": { "type": "string", "format": "uuid", "nullable": true },
          "team_id": { "type": "string", "format": "uuid", "nullable": true }
        }
      },
      "Project": {
        "type": "object",
        "required": ["id", "event_id", "name", "slug", "content"],
        "properties": {
          "content": { "type": "string" },
          "event_id": { "type": "string", "format": "uuid" },
          "id": { "type": "string", "format": "uuid" },
          "name": { "type": "string" },
          "slug": { "type": "string" }
        }
      },
      "ProjectForCreate": {
        "type": "object",
        "required": ["event_id", "name", "content"],
        "properties": {
          "content": { "type": "string" },
          "event_id": { "type": "string", "format": "uuid" },
          "name": { "type": "string" }
        }
      },
      "ProjectForUpdate": {
        "type": "object",
        "properties": {
          "content": { "type": "string", "nullable": true },
          "name": { "type": "string", "nullable": true }
        }
      },
      "ProjectIdDTO": {
        "type": "object",
        "properties": {
          "project_id": { "type": "string", "format": "uuid", "nullable": true }
        }
      },
      "PublicError": {
        "type": "object",
        "required": ["status", "message"],
        "properties": {
          "message": { "type": "string" },
          "status": { "type": "integer", "format": "int32", "minimum": 0 }
        }
      },
      "ReducedUser": {
        "type": "object",
        "required": ["id", "name"],
        "properties": {
          "id": { "type": "string", "format": "uuid" },
          "name": { "type": "string" }
        }
      },
      "Sidequest": {
        "type": "object",
        "required": [
          "id",
          "event_id",
          "name",
          "slug",
          "description",
          "is_higher_result_better"
        ],
        "properties": {
          "description": { "type": "string" },
          "event_id": { "type": "string", "format": "uuid" },
          "id": { "type": "string", "format": "uuid" },
          "is_higher_result_better": { "type": "boolean" },
          "name": { "type": "string" },
          "slug": { "type": "string" }
        }
      },
      "SidequestAttemptsCooldownQuery": {
        "type": "object",
        "required": ["event_id"],
        "properties": {
          "event_id": { "type": "string", "format": "uuid" },
          "user_id": { "type": "string", "format": "uuid", "nullable": true }
        }
      },
      "SidequestAttemptsQuery": {
        "type": "object",
        "required": ["event_id"],
        "properties": {
          "after": {
            "type": "string",
            "format": "date-time",
            "nullable": true
          },
          "before": {
            "type": "string",
            "format": "date-time",
            "nullable": true
          },
          "event_id": { "type": "string", "format": "uuid" },
          "sidequest_id": {
            "type": "string",
            "format": "uuid",
            "nullable": true
          },
          "team_id": { "type": "string", "format": "uuid", "nullable": true },
          "user_id": { "type": "string", "format": "uuid", "nullable": true }
        }
      },
      "SidequestForCreate": {
        "type": "object",
        "required": [
          "event_id",
          "name",
          "description",
          "is_higher_result_better"
        ],
        "properties": {
          "description": { "type": "string" },
          "event_id": { "type": "string", "format": "uuid" },
          "is_higher_result_better": { "type": "boolean" },
          "name": { "type": "string" }
        }
      },
      "SidequestForUpdate": {
        "type": "object",
        "properties": {
          "description": { "type": "string", "nullable": true },
          "is_higher_result_better": { "type": "boolean", "nullable": true },
          "name": { "type": "string", "nullable": true }
        }
      },
      "SidequestIdQuery": {
        "type": "object",
        "required": ["sidequest_id"],
        "properties": { "sidequest_id": { "type": "string", "format": "uuid" } }
      },
      "SidequestsHistoryQuery": {
        "type": "object",
        "properties": {
          "after": {
            "type": "string",
            "format": "date-time",
            "nullable": true
          },
          "before": {
            "type": "string",
            "format": "date-time",
            "nullable": true
          }
        }
      },
      "Team": {
        "type": "object",
        "required": ["id", "event_id", "name", "slug", "index"],
        "properties": {
          "event_id": { "type": "string", "format": "uuid" },
          "id": { "type": "string", "format": "uuid" },
          "index": { "type": "integer", "format": "int32" },
          "name": { "type": "string" },
          "project_id": {
            "type": "string",
            "format": "uuid",
            "nullable": true
          },
          "slug": { "type": "string" }
        }
      },
      "TeamAffiliate": {
        "type": "object",
        "required": ["id", "name", "roles"],
        "properties": {
          "id": { "type": "string", "format": "uuid" },
          "name": { "type": "string" },
          "roles": {
            "type": "array",
            "items": { "$ref": "#/components/schemas/TeamRole" }
          }
        }
      },
      "TeamForCreate": {
        "type": "object",
        "required": ["event_id", "name"],
        "properties": {
          "event_id": { "type": "string", "format": "uuid" },
          "name": { "type": "string" }
        }
      },
      "TeamForUpdate": {
        "type": "object",
        "properties": { "name": { "type": "string", "nullable": true } }
      },
      "TeamLeaderboardEntry": {
        "type": "object",
        "required": ["team_id", "team_name", "score"],
        "properties": {
          "score": { "type": "number", "format": "double" },
          "team_id": { "type": "string", "format": "uuid" },
          "team_name": { "type": "string" }
        }
      },
      "TeamRole": { "type": "string", "enum": ["Member", "Mentor"] },
      "TeamRoleOptQuery": {
        "type": "object",
        "properties": {
          "role": {
            "allOf": [{ "$ref": "#/components/schemas/TeamRole" }],
            "nullable": true
          }
        }
      },
      "User": {
        "type": "object",
        "required": ["id", "auth_id", "name"],
        "properties": {
          "auth_id": { "type": "string" },
          "id": { "type": "string", "format": "uuid" },
          "name": { "type": "string" }
        }
      },
      "UserForCreate": {
        "type": "object",
        "required": ["auth_id"],
        "properties": {
          "auth_id": { "type": "string" },
          "name": { "type": "string", "nullable": true }
        }
      },
      "UserForUpdate": { "type": "object" },
      "UserLeaderboardEntry": {
        "type": "object",
        "required": ["user_id", "user_name", "score", "result"],
        "properties": {
          "result": { "type": "number", "format": "double" },
          "score": { "type": "integer", "format": "int64", "minimum": 0 },
          "user_id": { "type": "string", "format": "uuid" },
          "user_name": { "type": "string" }
        }
      }
    }
  },
  "tags": [
    {
      "name": "Hackathon Portal",
      "description": "Swagger for the Hackathon Dashboard by VIScon HackTech"
    }
  ]
}
